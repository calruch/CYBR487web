# CLI

The CLI flags below are taken directly from `src/argParser.py` and validated against runtime behavior in `src/main.py`.

## Entry point

From the repository root:

```bash
python3 -m src.main [flags]
```

Most scan modes require elevated privileges:

```bash
sudo python3 -m src.main [flags]
```

## Flags

| Flag | Required | Default | Notes |
|---|---:|---:|---|
| `--network` | **Yes** (except `SelfScan`) | — | IPv4 address or CIDR. If you pass a single IP with no CIDR, the parser appends `/32`. |
| `--scanType` | No | `all` | One of: `all`, `ICMP`, `TCP`, `TraceRouteTCP`, `TraceRouteICMP`, `SelfScan`. |
| `--ports` | **Yes** for `all` and `TCP` | — | Port spec (see below). If omitted for `all`/`TCP`, the port scanner raises an error. |
| `--timeout` | No | `2` | Seconds. Valid range is 1–300; invalid/out-of-range values fall back to 2. |
| `--hostid` | No | `ARP` | Host discovery method: `ARP` or `ICMP`. |
| `--maxhops`, `-m` | No | `30` | Traceroute maximum hops. Must be 1–60. |
| `--verbose`, `-v` | No | `False` | Enables verbose status lines. |
| `--moreverbose`, `-vv` | No | `False` | Parsed by the CLI, but currently not used by `main.py`. |
| `--help`, `-h` | No | `False` | Parsed as a flag, but this project does **not** use `argparse`'s built-in help (`add_help=False`). See **Known limitations**. |

### Ports format (`--ports`)

The parser supports these formats:

- Range: `--ports=1-1023`
- Comma-separated list: `--ports=22,80,443`
- Single port: `--ports=443`

!!! note "No space-separated port lists"
    Although the CLI help text mentions space-separated ports, the current parser does not implement that format.

## Scan types

`--scanType` selects which actions run for each discovered host:

| scanType | What runs |
|---|---|
| `all` | Self Scan, host discovery, OS detection, TCP port scan, TCP traceroute, ICMP traceroute |
| `ICMP` | Host discovery, OS detection |
| `TCP` | Host discovery, TCP port scan |
| `TraceRouteTCP` | Host discovery, TCP traceroute |
| `TraceRouteICMP` | Host discovery, ICMP traceroute |
| `SelfScan` | Self Scan only (exits early) |

## Known limitations

- `--help/-h` is defined as a flag, but the CLI does not print autogenerated help output. Use this documentation (or the repo README) for flag reference.
- `--moreverbose/-vv` is accepted but not currently wired into the runtime output.
